<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Tailspin</title>
  <link rel="stylesheet" href="stylesheets/main.css">
</head>
<body>
  <div class="sheet">
    <div class="text">
      <h1>Introduction to Sheets</h1>
      <p>Tailspin "sheets" are rich documents containing text, code, plots and charts, interactive UI elements, and various other embeddable media. They are also programmable reactive systems in which changes to any part of the code are immediately reflected throughout the entire document. Take a spreadsheet, cross it with a notebook-style REPL, and you're 90% of the way there.</p>
      <p>Blocks of code – known in Tailspin's terminology as "cells" – have names. Each cell's name is displayed in the left margin, next to the cell itself. New cells are created with randomly generated unique names, but you can click on and edit these names to give your cells more descriptive labels.</p>
      <p>The first few cells in any given sheet will typically contain simple self-describing values. This is more a matter of custom than anything else; you're free to declare your cells in any order you like.</p>
    </div>
    <div class="code">
      <p class="label">position</p>
      <div class="midcol">
        <pre class="flense success">{:x 10, :y 10}</pre>
      </div>
    </div>
    <div class="code">
      <p class="label">velocity</p>
      <div class="midcol">
        <pre class="flense success">{:dx 4, :dy 6}</pre>
      </div>
    </div>
    <div class="text">
      <p>If a cell contains anything besides the code for a self-describing literal value, its code is evaluated and the result displayed. The following two cells both contain calculated values, displayed in green underneath the code that was used to perform the calculation.</p>
    </div>
    <div class="code">
      <p class="label">projected</p>
      <div class="midcol">
        <pre class="flense">(iterate (fn [{:keys [x y]}]
           {:x (+ x (:dx velocity)), :y (+ y (:dy velocity))})
         position)</pre>
        <pre class="output success">==> ({:x 10, :y 10} {:x 14, :y 16} {:x 18, :y 22} {:x 22, :y 28} ...)</pre>
      </div>
    </div>
    <div class="code">
      <p class="label">position-1</p>
      <div class="midcol">
        <pre class="flense">(nth projected 2)</pre>
        <pre class="output success">==> {:x 18, :y 22}</pre>
      </div>
    </div>
    <div class="text">
      <p>If a cell's value can't be calculated for whatever reason, an error is displayed as the result instead. Errors look like values, but are displayed in red rather than green to set them off as visually distinct.</p>
    </div>
    <div class="code">
      <p class="label">position-2</p>
      <div class="midcol">
        <pre class="flense">(nth projected :keyword)</pre>
        <pre class="output failure">==> clojure.lang.Keyword cannot be cast to java.lang.Number</pre>
      </div>
    </div>
    <div class="text">
      <p>Errors can cascade through the sheet. If cell A refers to cell B, and cell B's value can't be calculated because of one or more errors, Tailspin won't be able to calculate cell A's value either. Thus, both cells will contain errors.</p>
    </div>
    <div class="code">
      <p class="label">position-3</p>
      <div class="midcol">
        <pre class="flense">(assoc position-2 :x 7)</pre>
        <pre class="output failure">==> Cell 'position-2' contains one or more errors</pre>
      </div>
    </div>
    <div class="text">
      <p>There are other situations that can lead to errors as well. What happens if there turns out to be a dependency cycle between two or more cells? Simple: rather than allowing the mutually dependent cells to chase one another in circles forever, Tailspin treats each cell in the cycle as unevaluable and displays an error.</p>
    </div>
    <div class="code">
      <p class="label">foo</p>
      <div class="midcol">
        <pre class="flense">(inc bar)</pre>
        <pre class="output failure">==> Cyclic dependency on cell 'bar'</pre>
      </div>
    </div>
    <div class="code">
      <p class="label">bar</p>
      <div class="midcol">
        <pre class="flense">(inc foo)</pre>
        <pre class="output failure">==> Cyclic dependency on cell 'foo'</pre>
      </div>
    </div>
    <div class="text">
      <p>And if cell A refers to a cell B that hasn't been defined within this sheet, cell A will again contain an error.</p>
    </div>
    <div class="code">
      <p class="label">baz</p>
      <div class="midcol">
        <pre class="flense">(str "Hello, " zibblefrotz "!")</pre>
        <pre class="output failure">==> Cell 'zibblefrotz' doesn't seem to exist</pre>
      </div>
    </div>
  </div>
</body>
</html>
